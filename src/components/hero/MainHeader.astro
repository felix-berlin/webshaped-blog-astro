---
// import LanguageSelect from "@components/LanguageSelect.vue";
import "@styles/objects/_header.scss";
// import "@styles/components/_main-nav.scss";
// import "@styles/components/_menu.scss";
// import "@pagefind/default-ui/css/ui.css";
// import "@styles/components/_searchbar.scss";
import MainNav from "@components/hero/MainNav.vue";
// import { currentLanguage } from "@stores/store";
import type { Language, MenuToMenuItemConnection, Maybe } from "@ts_types/generated/graphql";
import { getMenuById } from "@services/api";
import { updateCategoryPaths } from "@utils/helpers";

interface HeaderProps {
  lang: Language;
}

const { lang } = Astro.props as HeaderProps;

const mainMenuItemsDe = await getMenuById(2);
const mainMenuItemsEn = await getMenuById(125);

const mainMenuItems = lang === "de" ? mainMenuItemsDe : mainMenuItemsEn;

const menuItems = updateCategoryPaths(mainMenuItems, lang)?.menuItems;
---

<header id="mainHeader" class="o-header">
  <MainNav menuItems={menuItems} client:only="vue" />
  <!-- <LanguageSelect class="is-desktop" /> -->
</header>
