---
import SocialList from "@components/SocialList.vue";
import Menu from "@components/Menu.vue";
import { getMenuById, getAuthor } from '@lib/api';
import { version } from './../../package.json'
import _footer from '../styles/objects/_footer.scss';


const footerMenuItems:object = await getMenuById(38);
const author = await getAuthor();

const iconStyles = {
  size: 40,
  strokeWidth: 1,
};

const socialItems = {
  facebook: {
    url: author.user.seo.social.facebook,
    ...iconStyles,
  },
  instagram: {
    url: author.user.seo.social.instagram,
    ...iconStyles,
  },
  linkedIn: {
    url: author.user.seo.social.linkedIn,
    ...iconStyles,
  },
  mySpace: {
    url: author.user.seo.social.mySpace,
    ...iconStyles,
  },
  pinterest: {
    url: author.user.seo.social.pinterest,
    ...iconStyles,
  },
  soundCloud: {
    url: author.user.seo.social.soundCloud,
    ...iconStyles,
  },
  twitter: {
    url: author.user.seo.social.twitter,
    ...iconStyles,
  },
  wikipedia: {
    url: author.user.seo.social.wikipedia,
    ...iconStyles,
  },
  youTube: {
    url: author.user.seo.social.youTube,
    ...iconStyles,
  },
  github: {
    url: author.user.socialAdvanced.github,
    rel: 'me',
    ...iconStyles,
  },
}

---
<footer class="o-footer">
  <SocialList social-items={socialItems} client:visible></SocialList>

  <div class="o-footer__end">
    <div class="o-footer__end-wrapper">
      <div class="o-footer__credits">Â© 2015 - { new Date().getFullYear() } Felix Scholze</div>
      <a href="https://github.com/felix-berlin/webshaped-blog-astro/releases"
         class="o-footer__version"
         target="_blank"
         title="Github Releases Seite">Website Version: { version }</a>

      <Menu class:list={"o-footer__menu c-menu--footer"} menu-items={footerMenuItems.menuItems}></Menu>
    </div>
  </div>
</footer>
